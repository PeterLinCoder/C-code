C51 COMPILER V9.60.7.0   LCD1602                                                           08/13/2025 12:58:09 PAGE 1   


C51 COMPILER V9.60.7.0, COMPILATION OF MODULE LCD1602
OBJECT MODULE PLACED IN .\Objects\lcd1602.obj
COMPILER INVOKED BY: C:\Keil_v5\C51\BIN\C51.EXE lcd1602.c OPTIMIZE(8,SPEED) BROWSE DEBUG OBJECTEXTEND PRINT(.\Listings\l
                    -cd1602.lst) TABS(2) OBJECT(.\Objects\lcd1602.obj)

line level    source

   1          #include <REGX52.h>
   2          #include "delay.h"
   3          
   4          
   5          sbit LCD_RS=P2^6;
   6          sbit LCD_RW=P2^5;
   7          sbit LCD_E=P2^7;
   8          
   9           #define LCD_DataPort P0
  10          //void Delay(int ms)    //@11.0592MHz 1ms
  11          //{
  12          //  unsigned char i, j;
  13          
  14          //  while(ms--)
  15          //  { i = 11;
  16          //  j = 190;
  17          //  do
  18          //  {
  19          //    while (--j);
  20          //  } while (--i);
  21          //  }
  22          
  23          //}
  24          
  25          void LCD_WriteCommand(unsigned char Command)
  26          {
  27   1          LCD_RS=0;
  28   1          LCD_RW=0;
  29   1          LCD_DataPort=Command;
  30   1          LCD_E=1;
  31   1          Delay(2);
  32   1        
  33   1          LCD_E=0;
  34   1          Delay(2);
  35   1      }
  36          
  37          void LCD_WriteData(unsigned char Data)
  38          {
  39   1      
  40   1          LCD_RS=1;
  41   1          LCD_RW=0;
  42   1          LCD_DataPort=Data;
  43   1          LCD_E=1;
  44   1          Delay(2);
  45   1        
  46   1          LCD_E=0;
  47   1          Delay(2);
  48   1      }
  49          void LCD_Init(void)
  50          {
  51   1        LCD_WriteCommand(0x38);
  52   1        LCD_WriteCommand(0x0c);
  53   1        LCD_WriteCommand(0x06);
  54   1        LCD_WriteCommand(0x01);
C51 COMPILER V9.60.7.0   LCD1602                                                           08/13/2025 12:58:09 PAGE 2   

  55   1      }
  56          void LCD_AC(unsigned char Line,unsigned char Column)
  57          {
  58   1        if(Line==1)
  59   1        {
  60   2          LCD_WriteCommand(0x80|(Column-1));
  61   2        
  62   2        }
  63   1        else
  64   1        {
  65   2          LCD_WriteCommand(0x80|(Column-1)+0x40);
  66   2        
  67   2        }
  68   1      
  69   1      }
  70          
  71          
  72          void LCD_Showchar(unsigned char Line,unsigned char Column,unsigned char Char)
  73          {
  74   1      LCD_AC(Line,Column);
  75   1        LCD_WriteData(Char);
  76   1      }
  77          
  78          void LCD_ShowString(unsigned char Line,unsigned char Column,unsigned char String[])
  79          {
  80   1        unsigned char i=0;
  81   1        LCD_AC(Line,Column);
  82   1        for (i=0;String[i]!=0;i++)
  83   1        {
  84   2        LCD_WriteData(String[i]);
  85   2        
  86   2        }
  87   1        }
  88          
  89            int Pow(int x,int y)
  90            {
  91   1        unsigned char i=0;
  92   1          int sum=1;
  93   1        for(i=0;i<y;i++)
  94   1        {
  95   2        sum*=x;
  96   2        
  97   2        }
  98   1        return sum;
  99   1        }
 100            
 101          void LCD_ShowNum(unsigned char Line,unsigned char Column,unsigned int num,int len)
 102          {
 103   1        unsigned int i=0;
 104   1      LCD_AC(Line,Column);
 105   1        
 106   1        for(i=len;i>0;i--)
 107   1      {
 108   2        
 109   2      LCD_WriteData('0'+num/Pow(10,i-1)%10);
 110   2      }
 111   1      
 112   1      }
 113          
 114          void LCD_ShowintNum(unsigned char Line,unsigned char Column,int Num,int Len)
 115          {
 116   1        unsigned int i=0;
C51 COMPILER V9.60.7.0   LCD1602                                                           08/13/2025 12:58:09 PAGE 3   

 117   1        unsigned Num1;
 118   1        LCD_AC(Line,Column);
 119   1      if(Num>0)
 120   1      {
 121   2      LCD_WriteData('+');
 122   2        Num1=Num;
 123   2        
 124   2      }
 125   1      else
 126   1      {
 127   2      LCD_WriteData('-');
 128   2      Num1=-Num;
 129   2      }
 130   1      for(i=Len;i>0;i--)
 131   1      {
 132   2        
 133   2      LCD_WriteData('0'+Num1/Pow(10,i-1)%10);
 134   2      }
 135   1      
 136   1      }
 137          
 138          
 139          
 140          
 141          
 142          
 143          
 144          
 145          


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    359    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----      28
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
